
<div class="page page-table">
    <section class="panel panel-default table-dynamic">
        <div class="panel-heading"><strong><span class="glyphicon glyphicon-th"></span>Purchase Order Details</strong></div>
        <div class="panel-body">
            <form name="form_constraints" class="form-validation ng-pristine ng-invalid ng-invalid-required ng-invalid-equal">
                
                  <h4 class="title">Orders</h4>

                    <div class="form-group col-md-3">
                        <label for="site-name"> Purchase order Id  </label><br />
                        <input id="site-name" type="text" class="form-control" ng-model="PurchaseOrderData.PurchaseOrderId" disabled />
                    </div>

                <div class="form-group col-md-3">
                    <label for="site-name"> Suplier Name</label><br />
                    <input id="site-name" type="text" class="form-control" ng-model="PurchaseOrderData.SupplierName" disabled />
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name">Status</label><br />
                    <input id="site-name" type="text" class="form-control" ng-model="PurchaseOrderData.Status" disabled />
                </div>
                <div class="form-group col-md-3">
                    <label for="site-name"> Created Date</label><br />
                    <input id="site-name" type="text" class="form-control" ng-model="PurchaseOrderData.CreationDate" disabled />
                </div>
                <!--<div class="form-group col-md-12">
                    
                    <div class="form-group col-md-3">
                        <label for="site-name">Status</label><br>
                        <select class="form-control" id="site-name" ng-model="Po.Status">
                            <option value="">---SELECT---</option>
                        <option value="">New</option>
                        <option value="">in process</option>
                        <option value="">Deliverd</option>
                           
                        </select>
                    </div>

                    <div class="form-group col-md-3">
                        <label for="site-name">Select Date Range</label><br>
                        <div class="form-group">
                            <div class='input-group date'>
                                <input name="daterange" type='text' title="Select Date" class="form-control date-picker" />
                                <span class="input-group-addon">
                                    <span class="fa fa-calendar"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-3">
                        <label for="site-name"></label><br>
                        <button type="button" class="btn btn-ar btn-primary" ng-click="Search(Demanddata)">Filter</button>
                    </div>
                </div>-->
                    <table class="table table-bordered table-striped table-responsive ">
                        <thead>
                            <tr>
                                <th>
                                    <div class="th">
                                        Item ID
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('ItemId')"
                                              data-ng-class="{active: row == 'ItemId'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-ItemId')"
                                              data-ng-class="{active: row == '-ItemId'}"></span>
                                    </div>
                                </th>

                                <th>
                                    <div class="th">
                                        Purchase Item Name
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('itemname')"
                                              data-ng-class="{active: row == 'itemname'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-itemname')"
                                              data-ng-class="{active: row == '-itemname'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Purchase Sku
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('PurchaseSku')"
                                              data-ng-class="{active: row == 'PurchaseSku'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-PurchaseSku')"
                                              data-ng-class="{active: row == '-PurchaseSku'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Unit Price
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('UnitPrice')"
                                              data-ng-class="{active: row == 'UnitPrice'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-UnitPrice')"
                                              data-ng-class="{active: row == '-UnitPrice'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                       MOQ
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('MOQ')"
                                              data-ng-class="{active: row == 'MOQ'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-MOQ')"
                                              data-ng-class="{active: row == '-MOQ'}"></span>
                                    </div>
                                </th>                                
                                <th>
                                    <div class="th">
                                        Quantity
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('qty')"
                                              data-ng-class="{active: row == 'qty'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-qty')"
                                              data-ng-class="{active: row == '-qty'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                         Total No of pieces
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="rder('TotalQuantity')"
                                              data-ng-class="{active: row == 'TotalQuantity'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-TotalQuantity')"
                                              data-ng-class="{active: row == '-TotalQuantity'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Total Amount
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('TotalAmount')"
                                              data-ng-class="{active: row == 'TotalAmount'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-TotalAmount')"
                                              data-ng-class="{active: row == '-TotalAmount'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Status
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('Status')"
                                              data-ng-class="{active: row == 'Status'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('-Status')"
                                              data-ng-class="{active: row == '-Status'}"></span>
                                    </div>
                                </th>
                                <th>
                                    <div class="th">
                                        Created Date
                                        <span class="glyphicon glyphicon-chevron-up"
                                              data-ng-click="order('CreationDate')"
                                              data-ng-class="{active: row == ' CreationDate'}"></span>
                                        <span class="glyphicon glyphicon-chevron-down"
                                              data-ng-click="order('- CreationDate')"
                                              data-ng-class="{active: row == '- CreationDate'}"></span>
                                    </div>
                                </th>     
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="PurchaseorderDetail in PurchaseorderDetails">
                                <td>{{PurchaseorderDetail.ItemId}}</td>
                                <td>{{PurchaseorderDetail.PurchaseName}}</td>
                                <td>{{PurchaseorderDetail.PurchaseSku}}</td>
                                <td>{{PurchaseorderDetail.Price}}</td>
                                <td>{{PurchaseorderDetail.MOQ}}</td>
                                <td>{{((PurchaseorderDetail.TotalQuantity)/(PurchaseorderDetail.MOQ))}}</td>
                                <td>{{PurchaseorderDetail.TotalQuantity}}</td>
                                <td>{{((PurchaseorderDetail.Price)*(PurchaseorderDetail.TotalQuantity)) | number:2}}</td>
                                <td><span class="label label-info">{{PurchaseorderDetail.Status}}</span></td>
                                <td>{{PurchaseorderDetail.CreationDate}}</td>
                            </tr>
                        </tbody>
                    </table>
                <div>
                    <div class="col-md-3">
                        <a type="button" class="btn btn-primary btn-lg" href="#/SearchPurchaseOrder">Back</a>
                    </div>
                    <div class="col-md-3">
                        <button type="button" ng-hide="PurchaseOrderData.Status=='Received' || PurchaseOrderData.Status=='Partial Received'" class="btn btn-primary btn-lg" ng-click="open()" data-dismiss="modal">Add item</button>
                    </div>
                </div>
            </form>

        </div>

    </section>
</div>


<script type="text/ng-template" id="myputmodal.html">

    <form name="myFormSiteModal">

        <div class="modal-header">
            <button type="button" class="close" ng-click="cancel()" data-dismiss="modal">
                <span class="icon icon-x" aria-hidden="true">
                </span>
                <span class="sr-only">Close</span>
            </button>
            <button aria-hidden="true" class="close" data-dismiss="modal" type="button" ng-click="ok()">×</button>
            <h4 class="modal-title">Purchase Order List</h4>
        </div>

        <div class="modal-body">
            <div class="colasdasdasd">
                <p style="color: #FF0000" ng-show="gotErrors"> Unable To Create Site  ! Please Try Again</p>
                <p style="color: #FF0000" ng-show="AlreadyExist"> Site Already Exist  ! Please Try Another Site</p>
            </div>
            <div class="form-group">
                <div class="form-group">
                    <label for="site-name">Supplier :&nbsp; {{data.SupplierName}}</label><br />
                </div>
                <label for="site-name">Purchase Item:</label><br />
                <select class="form-control" id="site-name" ng-model="data.ItemId"  ng-change="Minqty(data.ItemId)">
                    <option value="">---SELECT---</option>
                    <option value="{{item.ItemId}}" ng-repeat="item in itemMasterrr"> {{item.PurchaseUnitName}}</option>
                </select>
            </div>
            <div class="form-group ">
                <label for="site-name">MOQ </label><br />
                <select class="form-control ng-pristine ng-valid" id="site-name" ng-model="data.PurchaseMinOrderQty">
                    <option value="">Select</option>
                    <option value="{{ss.PurchaseMinOrderQty}}" ng-repeat="ss in itmdata">{{ss.PurchaseMinOrderQty}}</option>
                </select>
            </div>
            <div class="form-group ">
                <label for="site-name">Number Of Set </label><br />
                <input id="site-name" type="number" class="form-control" ng-model="data.Noofset" />

            </div>
            <!--<div class="form-group">
                <label for="site-name">Quantity:</label><br />
                <input class="form-control" ng-model="quantity" />
            </div>-->
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-ar btn-warning" ng-click="cancel()" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-ar btn-primary" ng-click="Put(data)">Save</button>
        </div>
    </form>
</script>